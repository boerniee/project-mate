{% extends "base.html" %}

{% block title %}{{ _('Profil bearbeiten') }}{% endblock %}

{% block app_content %}
  <div class="row">
    <div class="col-sm-8">
      <h1>{{ _('Profil bearbeiten') }}</h1>
      <form action="" method="post" novalidate>
          {{ form.hidden_tag() }}

          <div class="form-group row">
            {{ form.username.label(class_="col-sm-3 col-form-label") }}
            <div class="col-sm-9">
              {{ form.username(size=32, class_='form-control', placeholder=form.username.label.text) }}
              {% for error in form.username.errors %}
              <span style="color: red;">[{{ error }}]</span>
              {% endfor %}
            </div>
          </div>
          <div class="form-group row">
            {{ form.email.label(class_="col-sm-3 col-form-label") }}
            <div class="col-sm-9 input-group">
              {{ form.email(size=64, class_='form-control', readonly=true, placeholder=form.username.label.text) }}
              <div class="input-group-append">
                <button class="btn btn-outline-secondary showpwd-button" title="{{ _('Email Ã¤ndern') }}" onclick="window.location.href = '{{ url_for('auth.change_email_request') }}'" style="border-bottom-right-radius: 0;" type="button"><i id="eye" style="width: 1.2rem;" class="fas fa-edit"></i></button>
              </div>
              {% for error in form.email.errors %}
              <span style="color: red;">[{{ error }}]</span>
              {% endfor %}
            </div>
          </div>
          <div class="form-group row">
            {{ form.paypal.label(class_="col-sm-3 col-form-label") }}
            <div class="col-sm-9">
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon3">https://paypal.me/</span>
                </div>
                  {{ form.paypal(class_='form-control', size=50, placeholder='johndoe') }}
              </div>
              {% for error in form.paypal.errors %}
              <span style="color: red;">[{{ error }}]</span>
              {% endfor %}
            </div>
          </div>
          <div class="form-group row">
            {{ form.lang.label(class_="col-sm-3 col-form-label") }}
            <div class="col-sm-9">
              {{ form.lang(class_='form-control') }}
              {% for error in form.lang.errors %}
              <span style="color: red;">[{{ error }}]</span>
              {% endfor %}
            </div>
          </div>
          <div class="form-group row">
            <div class="col-sm-10">
              {{ form.submit(class_="btn btn-primary") }}
            </div>
          </div>
        </form>
      </div>
      <div class="col-sm-2"></div>
      <div class="col-sm-2"><img style="padding-top:25px;" src="{{ avatar }}"/></div>
    </div>
{% endblock %}

{% block custom_script %}
  <script>
    $("#editself").addClass('active');
  </script>
{% endblock %}
